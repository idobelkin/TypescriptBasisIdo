{"version":3,"sources":["webpack://fs/webpack/universalModuleDefinition","webpack://fs/webpack/bootstrap","webpack://fs/./src/directory.js","webpack://fs/./src/errors.js","webpack://fs/./src/file.js","webpack://fs/./src/index.js","webpack://fs/./src/quota.js","webpack://fs/./src/root.js","webpack://fs/./src/stat.js","webpack://fs/./src/utils.js"],"names":["utils","require","errors","root","exports","get","path","options","isDirectory","Promise","resolve","reject","DOMError","parts","splitPath","reduce","res","dirName","then","dir","task","getChildDir","create","e","isNotFoundError","createChildDir","read","readEntriesRecursive","createReader","readDeep","entries","tasks","map","entry","subEntries","Object","assign","children","all","parent","promiseCall","exclusive","reader","acc","length","concat","name","isTypeMismatchError","directory","isFile","parsePath","dirPath","fileName","overwrite","createChildFile","getChildFile","write","fileEntry","data","fileWriter","append","seek","onwriteend","truncated","truncate","position","onerror","blob","Blob","type","getMimeTypeByData","file","freezeMutableFile","FileReader","onload","result","error","readAs","createReadStream","TransformStream","readable","writable","Response","body","pipeTo","abort","createWriteStream","WritableStream","start","close","readAsArrayBuffer","readAsBinaryString","readAsDataURL","readAsText","stat","quota","isSupported","Boolean","window","webkitRequestFileSystem","init","prototype","hasOwnProperty","call","PERSISTENT","bytes","assertType","shouldRequestQuota","requestQuota","requestPersistent","grantedBytes","fs","set","usage","getType","getRoot","readFile","writeFile","appendFile","unlink","rename","oldPath","newPath","moveOrCopy","copy","rmdir","mkdir","exists","getEntry","readdir","deep","clear","getUrl","toURL","method","newParentDirPath","newName","enrty","newParent","TEMPORARY","Error","storage","getStorageByType","usedBytes","navigator","webkitPersistentStorage","webkitTemporaryStorage","newRoot","newType","metadata","fullPath","modificationTime","size","obj","args","slice","arguments","callback","getCallback","errback","getErrback","fullArgs","apply","pop","join","replace","endsWith","split","filter","i","err","argsStr","JSON","stringify","ex","message"],"mappings":"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","file":"bro-fs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fs\"] = factory();\n\telse\n\t\troot[\"fs\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/**\n * Operations with directories\n */\n\nconst utils = require('./utils');\nconst errors = require('./errors');\nconst root = require('./root');\n\n/**\n * Returns DirectoryEntry by path\n * If options.create = true will create missing directories\n *\n * @param {String} path\n * @param {Object} options\n * @param {Boolean} options.create\n * @returns {Promise}\n */\nexports.get = function (path, options = {}) {\n  if (path && typeof path !== 'string') {\n    return path.isDirectory\n      ? Promise.resolve(path)\n      : Promise.reject(new DOMError('TypeMismatchError', 'Expected directory but got file'));\n  }\n  const parts = utils.splitPath(path);\n  return parts.reduce((res, dirName) => {\n    return res.then(dir => {\n      let task = getChildDir(dir, dirName);\n      if (options.create) {\n        task = task.catch(e => errors.isNotFoundError(e)\n          ? createChildDir(dir, dirName)\n          : Promise.reject(e));\n      }\n      return task;\n    });\n  }, Promise.resolve(root.get()));\n};\n\n/**\n * Reads dir entries\n * Note: readEntries returns maximum 100 files. To get all entries method should be called recursively\n * until empty array returned.\n * @see https://stackoverflow.com/questions/23823548/maximum-files-of-a-directory-that-can-be-read-by-filereaderreadentries-in-javas\n * @param {Object} dir\n */\nexports.read = function (dir) {\n  return readEntriesRecursive(dir.createReader(), []);\n};\n\n/**\n * Reads dir entries deeply\n *\n * @param {Object} dir\n * @returns {Promise<Array>}\n */\nexports.readDeep = function (dir) {\n  return exports.read(dir)\n    .then(entries => {\n      const tasks = entries.map(entry => {\n        if (entry.isDirectory) {\n          return exports.readDeep(entry)\n            .then(subEntries => Object.assign(entry, {children: subEntries}))\n        } else {\n          return Promise.resolve(entry);\n        }\n      });\n      return Promise.all(tasks);\n    });\n};\n\nfunction createChildDir(parent, dirName) {\n  return utils.promiseCall(parent, 'getDirectory', dirName, {create: true, exclusive: false});\n}\n\nfunction getChildDir(parent, dirName) {\n  return utils.promiseCall(parent, 'getDirectory', dirName, {create: false});\n}\n\nfunction readEntriesRecursive(reader, acc) {\n  return utils.promiseCall(reader, 'readEntries')\n    .then(entries => entries.length ? readEntriesRecursive(reader, acc.concat(entries)) : acc);\n}\n","/**\n * Errors\n */\n\nexports.isNotFoundError = function (e) {\n  return e && e.name === 'NotFoundError';\n};\n\nexports.isTypeMismatchError = function (e) {\n  return e && e.name === 'TypeMismatchError';\n};\n","/**\n * Operations with files\n */\n\nconst utils = require('./utils');\nconst errors = require('./errors');\nconst directory = require('./directory');\n\n/**\n * Returns FileEntry by path\n * If options.create = true will create missing directories and file\n *\n * @param {String|FileSystemFileEntry} path\n * @param {Object} [options]\n * @param {Boolean} [options.create]\n * @param {Boolean} [options.overwrite]\n * @returns {Promise}\n */\nexports.get = function (path, options = {}) {\n  if (path && typeof path !== 'string') {\n    return path.isFile\n      ? Promise.resolve(path)\n      : Promise.reject(new DOMError('TypeMismatchError', 'Expected file but got directory'));\n  }\n  const {dirPath, fileName} = utils.parsePath(path);\n  return Promise.resolve()\n    .then(() => directory.get(dirPath, options))\n    .then(dir => {\n      if (options.create) {\n        if (options.overwrite) {\n          return createChildFile(dir, fileName);\n        } else {\n          return getChildFile(dir, fileName)\n            .catch(e => errors.isNotFoundError(e)\n              ? createChildFile(dir, fileName)\n              : Promise.reject(e))\n        }\n      } else {\n        return getChildFile(dir, fileName);\n      }\n    });\n};\n\n/**\n * Writes to fileEntry using fileWriter\n *\n * @param {Object} fileEntry\n * @param {String} data\n * @param {Object} [options]\n * @param {Boolean} [options.append]\n * @param {String} [options.type] mimetype\n * @returns {Promise}\n */\nexports.write = function (fileEntry, data, options = {}) {\n  return utils.promiseCall(fileEntry, 'createWriter')\n    .then(fileWriter => {\n      return new Promise((resolve, reject) => {\n        if (options.append) {\n          fileWriter.seek(fileWriter.length);\n          fileWriter.onwriteend = resolve;\n        } else {\n          let truncated = false;\n          fileWriter.onwriteend = function () {\n            if (!truncated) {\n              truncated = true;\n              this.truncate(this.position);\n            } else {\n              resolve();\n            }\n          };\n        }\n        fileWriter.onerror = reject;\n        const blob = new Blob([data], {type: getMimeTypeByData(data)});\n        fileWriter.write(blob);\n      });\n    })\n    .then(() => fileEntry)\n};\n\n/**\n * Reads from fileEntry\n * \n * `options.type='Blob'` returns a snapshot of the file. Slower but safer.\n * \n * `options.type='File'` returns a real-time reference without any r/w lock. Faster but may have a data race.\n *\n * @param {Object} fileEntry\n * @param {Object} [options]\n * @param {String} [options.type] how content should be read\n * @returns {Promise<String>}\n */\nexports.read = function (fileEntry, options = {}) {\n  return utils.promiseCall(fileEntry, 'file')\n    .then(file => {\n      if (options.type === 'Blob') {\n        // see /test/file-vs-blob.js for why we need to \"freeze\" a Blob\n        return freezeMutableFile(file);\n      } else if (options.type === 'File') {\n        return file;\n      } else {\n        return new Promise((resolve, reject) => {\n          const reader = new FileReader();\n          reader.onload = () => resolve(reader.result);\n          reader.onerror = () => reject(reader.error);\n          // see: https://developer.mozilla.org/ru/docs/Web/API/FileReader\n          readAs(options.type, reader, file);\n        });\n      }\n    });\n};\n\n/**\n * Create a ReadableStream from path or fileEntry\n *\n * @param {String|FileSystemFileEntry} path\n * @returns {ReadableStream}\n */\nexports.createReadStream = function (path) {\n  /* global TransformStream:false */\n  const { readable, writable } = new TransformStream();\n  exports.get(path)\n    .then(fileEntry => utils.promiseCall(fileEntry, 'file'))\n    .then(file => new Response(file).body.pipeTo(writable))\n    .catch(e => writable.abort(e));\n  return readable;\n};\n\n/**\n * Create a WritableStream from fileEntry\n *\n * @param {String|FileSystemFileEntry} path\n * @param {Object} [options]\n * @param {Boolean} [options.append]\n * @param {String} [options.type] mimetype\n * @returns {WritableStream}\n */\nexports.createWriteStream = function (path, options = {}) {\n  return new WritableStream({\n    start() {\n      return exports.get(path, { create: true, overwrite: true })\n        .then(fileEntry => utils.promiseCall(fileEntry, 'createWriter'))\n        .then(fileWriter => {\n          this.fileWriter = fileWriter;\n          if (options.append) {\n            fileWriter.seek(fileWriter.length);\n          }\n        })\n    },\n    write(data) {\n      return new Promise((resolve, reject) => {\n        const blob = new Blob([data], { type: getMimeTypeByData(data) });\n        this.fileWriter.onwriteend = resolve;\n        this.fileWriter.onerror = reject;\n        this.fileWriter.write(blob);\n      });\n    },\n    close() {\n      return new Promise((resolve, reject) => {\n        this.fileWriter.onwriteend = resolve;\n        this.fileWriter.onerror = reject;\n        this.fileWriter.truncate(this.fileWriter.position);\n      });\n    }\n  });\n};\n\nfunction getMimeTypeByData(data) {\n  if (typeof data === 'string') {\n    return 'text/plain';\n  } else {\n    return 'application/octet-binary';\n  }\n}\n\nfunction readAs(type, reader, file) {\n  switch (type) {\n    case 'ArrayBuffer':\n      return reader.readAsArrayBuffer(file);\n    case 'BinaryString':\n      return reader.readAsBinaryString(file);\n    case 'DataURL':\n      return reader.readAsDataURL(file);\n    case 'Text':\n    default:\n      return reader.readAsText(file);\n  }\n}\n\nfunction freezeMutableFile(file) {\n  // I tried different APIs, but they either require reading the\n  // entire Blob into a buffer, or do not (deep) clone the Blob\n  // at all. Response is so far the best I can find.\n\n  return new Response(file).blob();\n}\n\nfunction createChildFile(parent, fileName) {\n  return utils.promiseCall(parent, 'getFile', fileName, {create: true, exclusive: false});\n}\n\nfunction getChildFile(parent, fileName) {\n  return utils.promiseCall(parent, 'getFile', fileName, {create: false});\n}\n","/**\n * HTML5 Filesystem API\n * @module fs\n */\n\nconst utils = require('./utils');\nconst errors = require('./errors');\nconst root = require('./root');\nconst file = require('./file');\nconst directory = require('./directory');\nconst stat = require('./stat');\nconst quota = require('./quota');\n\n/**\n * Is filesystem API supported by current browser\n *\n * @returns {Boolean}\n */\nexports.isSupported = function () {\n  return Boolean(window.webkitRequestFileSystem);\n};\n\n/**\n * Init filesystem\n *\n * @param {Object} [options]\n * @param {Number} [options.type=window.PERSISTENT] window.PERSISTENT | window.TEMPORARY\n * @param {Number} [options.bytes=1Mb]\n * @param {Boolean} [options.requestQuota=true] show request quota popup for PERSISTENT type.\n * (for Chrome extensions with `unlimitedStorage` permission it is useful to pass options.requestQuota = false)\n * @returns {Promise}\n */\nexports.init = function (options = {}) {\n  const type = Object.prototype.hasOwnProperty.call(options, 'type') ? options.type : window.PERSISTENT;\n  const bytes = options.bytes || 1024 * 1024;\n  assertType(type);\n  const shouldRequestQuota = type === window.PERSISTENT\n    ? (Object.prototype.hasOwnProperty.call(options, 'requestQuota') ? options.requestQuota : true)\n    : false;\n  return Promise.resolve()\n    .then(() => shouldRequestQuota ? quota.requestPersistent(bytes) : bytes)\n    // webkitRequestFileSystem always returns fs even if quota not granted\n    .then(grantedBytes => utils.promiseCall(window, 'webkitRequestFileSystem', type, grantedBytes))\n    .then(fs => {\n      root.set(fs.root, type);\n      return fs;\n    });\n};\n\n/**\n * Gets used and granted bytes\n *\n * @returns {Promise<{usedBytes, grantedBytes}>}\n */\nexports.usage = function () {\n  return quota.usage(root.getType());\n};\n\n/**\n * Returns root directory\n *\n * @returns {FileSystemDirectoryEntry}\n */\nexports.getRoot = function () {\n  return root.get();\n};\n\n/**\n * Reads file content.\n * - `options.type='Blob'` returns a immutable snapshot of the file. Slower but safer.\n * - `options.type='File'` returns a mutable instance of {@link https://developer.mozilla.org/en-US/docs/Web/API/File File}. Faster but may have a data race.\n *\n * If file does not exist - error thrown.\n *\n * @param {String|FileSystemFileEntry} path\n * @param {Object} [options]\n * @param {String} [options.type='Text'] how content should be read: Text|ArrayBuffer|BinaryString|DataURL|Blob|File\n * @returns {Promise<String>}\n */\nexports.readFile = function (path, options = {}) {\n  return file.get(path)\n    .then(fileEntry => file.read(fileEntry, options));\n};\n\n/**\n * Writes data to file.\n * If file does not exist - it will be created.\n * If file already exists - it will be overwritten.\n *\n * @param {String} path\n * @param {String|Blob|File|ArrayBuffer} data\n * @returns {Promise}\n */\nexports.writeFile = function (path, data) {\n  return file.get(path, {create: true, overwrite: true})\n    .then(fileEntry => file.write(fileEntry, data, {append: false}));\n};\n\n/**\n * Appends data to file.\n * If file does not exist - it will be created.\n *\n * @param {String|FileSystemFileEntry} path\n * @param {String|Blob|File|ArrayBuffer} data\n * @returns {Promise}\n */\nexports.appendFile = function (path, data) {\n  return file.get(path, {create: true, overwrite: false})\n    .then(fileEntry => file.write(fileEntry, data, {append: true}));\n};\n\n/**\n * Removes file.\n * If file does not exist - no error thrown.\n *\n * @param {String|FileSystemFileEntry} path\n * @returns {Promise}\n */\nexports.unlink = function (path) {\n  return file.get(path)\n    .then(\n      fileEntry => utils.promiseCall(fileEntry, 'remove'),\n      e => errors.isNotFoundError(e)\n        ? Promise.resolve(false)\n        : Promise.reject(e)\n    );\n};\n\n/**\n * Renames file or directory.\n * If source file or directory does not exist - error thrown.\n * If target already exists - it will be overwritten.\n *\n * @param {String|FileSystemEntry} oldPath\n * @param {String} newPath\n * @param {Object} [options]\n * @param {Boolean} [options.create=false] create missing directories\n * @returns {Promise<FileSystemEntry>}\n */\nexports.rename = function (oldPath, newPath, options = {}) {\n  return moveOrCopy(oldPath, newPath, 'moveTo', options);\n};\n\n/**\n * Copies file or entire directory.\n * If file or directory does not exist - error thrown.\n *\n * @param {String|FileSystemEntry} oldPath\n * @param {String} newPath\n * @param {Object} [options]\n * @param {Boolean} [options.create=false] create missing directories\n * @returns {Promise<FileSystemEntry>}\n */\nexports.copy = function (oldPath, newPath, options = {}) {\n  return moveOrCopy(oldPath, newPath, 'copyTo', options);\n};\n\n/**\n * Removes directory recursively.\n * If directory does not exist - method does nothing without error.\n *\n * @param {String|FileSystemDirectoryEntry} path\n * @returns {Promise}\n */\nexports.rmdir = function (path) {\n  return directory.get(path)\n    .then(\n      dir => dir === root.get()\n        ? Promise.reject('Can not remove root. Use clear() to clear fs.')\n        : utils.promiseCall(dir, 'removeRecursively'),\n      e => errors.isNotFoundError(e)\n        ? Promise.resolve(false)\n        : Promise.reject(e)\n    )\n};\n\n/**\n * Recursively creates required directories in provided path.\n *\n * @param {String} path\n * @returns {Promise<FileSystemDirectoryEntry>}\n */\nexports.mkdir = function (path) {\n  return directory.get(path, {create: true});\n};\n\n/**\n * Checks that file or directory exists by provided path.\n *\n * @param {String} path\n * @returns {Promise<Boolean>}\n */\nexports.exists = function (path) {\n  return exports.getEntry(path)\n    .then(() => true, e => errors.isNotFoundError(e)\n      ? false\n      : Promise.reject(e)\n    );\n};\n\n/**\n * Gets info about file or directory.\n * If it does not exist - error thrown.\n *\n * @param {String|FileSystemEntry} path\n * @returns {Promise<StatObject>}\n */\nexports.stat = function (path) {\n  return exports.getEntry(path)\n    .then(entry => stat.get(entry));\n};\n\n/**\n * Reads directory content\n *\n * @param {String|FileSystemDirectoryEntry} path\n * @param {Object} [options]\n * @param {Boolean} [options.deep=false] read recursively and attach data as `children` property\n * @returns {Promise<Array<FileSystemEntry>>}\n */\nexports.readdir = function (path, options = {}) {\n  return directory.get(path)\n    .then(dir => options.deep\n      ? directory.readDeep(dir)\n      : directory.read(dir)\n    )\n};\n\n/**\n * Clears whole filesystem\n * @returns {Promise}\n */\nexports.clear = function () {\n  return exports.readdir('/')\n    .then(entries => {\n      const tasks = entries.map(entry => entry.isDirectory\n        ? utils.promiseCall(entry, 'removeRecursively')\n        : utils.promiseCall(entry, 'remove')\n      );\n      return Promise.all(tasks);\n    });\n};\n\n/**\n * Gets URL for path\n *\n * @param {String|FileSystemEntry} path\n * @returns {String}\n */\nexports.getUrl = function (path) {\n  return exports.getEntry(path)\n    .then(entry => entry.toURL())\n};\n\n/**\n * Gets file or directory\n *\n * @param {String|FileSystemEntry} path\n * @returns {Promise<FileSystemEntry>}\n */\nexports.getEntry = function (path) {\n  return file.get(path)\n    .catch(e => errors.isTypeMismatchError(e)\n      ? directory.get(path)\n      : Promise.reject(e)\n    );\n};\n\n/**\n * Create a {@link https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream ReadableStream} for reading\n *\n * @param {String|FileSystemFileEntry} path\n * @returns {ReadableStream}\n */\nexports.createReadStream = function (path) {\n  return file.createReadStream(path);\n};\n\n/**\n * Create a {@link https://developer.mozilla.org/en-US/docs/Web/API/WritableStream WritableStream} for writing\n *\n * @param {String|FileSystemFileEntry} path\n * @returns {WritableStream}\n */\nexports.createWriteStream = function (path) {\n  return file.createWriteStream(path);\n};\n\nfunction moveOrCopy(oldPath, newPath, method, options) {\n  if (oldPath === newPath) { // runtyper-disable-line\n    return Promise.resolve();\n  }\n  const {\n    dirPath: newParentDirPath,\n    fileName: newName,\n  } = utils.parsePath(newPath);\n  return Promise.all([\n    exports.getEntry(oldPath),\n    directory.get(newParentDirPath, options)\n  ]).then(([enrty, newParent]) => {\n    return utils.promiseCall(enrty, method, newParent, newName);\n  });\n}\n\nfunction assertType(type) {\n  if (type !== window.PERSISTENT && type !== window.TEMPORARY) {\n    throw new Error(`Unknown storage type ${type}`);\n  }\n}\n","/**\n * Requesting quota\n */\n\nconst utils = require('./utils');\n\n/**\n * Requesting quota is needed only for persistent storage.\n * See: https://developer.mozilla.org/en-US/docs/Web/API/LocalFileSystem\n *\n * @param {Number} bytes\n * @returns {Promise}\n */\nexports.requestPersistent = function (bytes) {\n  const storage = getStorageByType(window.PERSISTENT);\n  return utils.promiseCall(storage, 'requestQuota', bytes)\n    .then(grantedBytes => grantedBytes > 0\n      ? grantedBytes\n      : Promise.reject(`Quota not granted (requested: ${bytes}, granted: ${grantedBytes})`));\n};\n\nexports.usage = function (type) {\n  const storage = getStorageByType(type);\n  return utils.promiseCall(storage, 'queryUsageAndQuota')\n    .then(([usedBytes, grantedBytes]) => {\n      return {usedBytes, grantedBytes};\n    });\n};\n\nfunction getStorageByType(type) {\n  return type === window.PERSISTENT\n    ? navigator.webkitPersistentStorage\n    : navigator.webkitTemporaryStorage;\n}\n","/**\n * Store link to fs root (singleton)\n */\n\nlet root = null;\nlet type = null;\n\nexports.get = function () {\n  if (!root) {\n    throw new Error('Filesystem not initialized.');\n  } else {\n    return root;\n  }\n};\n\nexports.set = function (newRoot, newType) {\n  root = newRoot;\n  type = newType;\n};\n\nexports.getType = function () {\n  return type;\n};\n","/**\n * Stat for file or directory\n */\n\nconst utils = require('./utils');\n\n/**\n * Gets stat info\n *\n * @param {FileSystemEntry} entry\n * @returns {Promise<StatObject>}\n */\nexports.get = function (entry) {\n  return utils.promiseCall(entry, 'getMetadata')\n    .then(metadata => {\n      return {\n        isFile: entry.isFile,\n        isDirectory: entry.isDirectory,\n        name: entry.name,\n        fullPath: entry.fullPath,\n        modificationTime: metadata.modificationTime,\n        size: metadata.size,\n      };\n    })\n};\n","/**\n * Utils\n */\n\n/**\n * Calls async method of object with convertion callbacks into promise.\n *\n * @param {Object} obj\n * @param {String} method\n * @returns {Promise} promise resolved with returned value\n * (or array of values if callback called with more than one arguments)\n */\nexports.promiseCall = function (obj, method) {\n  if (!obj) {\n    throw new Error(`Can't call promisified method '${method}' of ${obj}`);\n  }\n  const args = [].slice.call(arguments, 2);\n  return new Promise((resolve, reject) => {\n    const callback = getCallback(resolve);\n    // create error before call to capture stack\n    const errback = getErrback(new Error(), method, args, reject);\n    const fullArgs = args.concat([callback, errback]);\n    return obj[method].apply(obj, fullArgs);\n  });\n};\n\nexports.parsePath = function (path) {\n  const parts = exports.splitPath(path);\n  const fileName = parts.pop();\n  const dirPath = parts.join('/');\n  return {dirPath, fileName};\n};\n\nexports.splitPath = function (path = '') {\n  path = path.replace(/^\\.\\//, ''); // remove './' at start\n  if (path.length > 1 && path.endsWith('/')) {\n    throw new Error(`Path can not end with '/'`);\n  }\n  return path.split('/').filter(Boolean);\n};\n\n/**\n * Create callback. Resolve should always be called with single argument:\n * - if underling callback called with zero or one argument - resolve call with the same\n * - if underling callback called with multiple arguments - resolve call with array of arguments\n *\n * See: https://github.com/vitalets/bro-fs/issues/7\n */\nfunction getCallback(resolve) {\n  return function () {\n    // not leaking arguments copy\n    // see: https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments\n    let i = arguments.length;\n    const args = [];\n    while (i--) {\n      args[i] = arguments[i];\n    }\n    if (args.length === 0) {\n      resolve();\n    } else if (args.length === 1) {\n      resolve(args[0]);\n    } else {\n      resolve(args);\n    }\n  };\n}\n\n/**\n * Convert DOMException to regular error to have normal stack trace\n * Also add some details to error message\n */\nfunction getErrback(err, method, args, reject) {\n  return function (e) {\n    let argsStr = '';\n    try {\n      argsStr = JSON.stringify(args);\n    } catch (ex) {\n      argsStr = args.join(', ');\n    }\n    err.name = e.name;\n    err.message = `${e.message} Call: ${method}(${argsStr})`;\n    reject(err);\n  };\n}\n"],"sourceRoot":""}